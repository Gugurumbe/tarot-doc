<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Tarot: Tutoriel : utilisation, contribution</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tarot
   </div>
   <div id="projectbrief">PE 46 à l&#39;ECL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li class="current"><a href="pages.html"><span>Pages&#160;associées</span></a></li>
      <li><a href="namespaces.html"><span>Espaces&#160;de&#160;nommage</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Fichiers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Espaces de nommage</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Fichiers</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Énumérations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Valeurs énumérées</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutoriel : utilisation, contribution </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="zero"></a>
À partir de zéro</h1>
<p>Vous voulez développer votre propre client (ou votre propre serveur). Vous devez vous connecter en tcp sur le serveur (45678, port par défaut). Des messages seront échangés avec lui. Un message contient :</p>
<ol type="1">
<li>Sa taille, sur 1 octet non signé.</li>
<li>Son type, sur 1 octet non signé.</li>
<li>Sa partie variable.</li>
</ol>
<p>Voici les types :</p>
<ul>
<li>0 : erreur_protocole. Pas de partie variable. Signification : vous avez dit quelque chose à un moment inopportun, ou ça n'entre pas dans le protocole.</li>
<li>1 : refuse. Pas de partie variable. Signification : vous avez fait une requête du bon type au bon moment, mais elle ne respecte pas les règles. Valable aussi si le nom que vous souhaitez utiliser est déjà pris.</li>
<li>2 : numero. Morceau variable : mon numéro sur 1 octet non signé. Votre numéro est un nombre entre 0 et 4 inclus. Si c'est 0, vous devez être le premier à priser. Si c'est x, il faut attendre de recevoir x messages de type contrat avant de priser.</li>
<li>3 : distribution. Morceau variable : mes 15 cartes, chacune sur 1 octet non signé.</li>
<li>4 : prise. Morceau variable : ma prise (1 octet, non signé). 0 : passe, 4 : garde contre. Le client doit émettre ce message.</li>
<li>5 : contrat. Morceau variable : la prise du joueur (1 octet, non signé). Un contrat intermédiaire a été formulé.</li>
<li>6 : appel. Pas de partie variable. Vous avez remporté les enchères, et vous devez maintenant appeler une carte.</li>
<li>7 : appeler. Morceau variable : la carte que vous voulez appeler (1 octet, non signé).</li>
<li>8 : contrat_final. Morceau variable : 1 octet non signé (preneur), 1 octet non signé (prise), 1 octet non signé (carte appelée).</li>
<li>9 : chien. Morceau variable : 3 octets (les 3 cartes dévoilées du chien). Si vous êtes le preneur, vous devez écarter.</li>
<li>10 : ecart. Morceau variable : 3 octets (les 3 cartes que vous voudriez écarter).</li>
<li>11 : atout. Morceau variable : au plus 3 octets (les atouts écartés).</li>
<li>12 : inutilisé</li>
<li>13 : jeu. Morceau variable : 1 octet, le joueur devant ouvrir. Pour l'instant, c'est 0.</li>
<li>14 : inutilisé</li>
<li>15 : inutilisé</li>
<li>16 : requete. Morceau variable : 1 octet (la carte que vous voudriez jouer). C'est à vous s'il y a eu (votre tour - tour du joueur d'ouverture) modulo 5 cartes jouées depuis le dernier pli.</li>
<li>17 : carte. Morceau variable : 1 octet (la carte jouée). À vous de déterminer qui l'a jouée, à partir du numéro du joueur d'ouverture et le nombre de cartes jouées depuis la fin du dernier pli.</li>
<li>18 : pli. Morceau variable : 1 octet (numéro du joueur d'ouverture).</li>
<li>19 : resultat. La donne est finie. Morceau variable : 5 mots de 2 octets, signés (les résultats de chacun depuis le dernier changement de siège).</li>
<li>20 : identifier. À la connexion, vous devez prendre l'initiative de vous identifier. Morceau variable : 16 octets pour le nom de joueur (en UTF-8 unicode). Peut être refusé (refuse), ou accepté (entree).</li>
<li>21 : entree. Un joueur est entré dans le vestibule, alors que vous y êtes déjà. Lors de votre première connexion, tout le monde déjà présent vous est présenté via ce message. Morceau variable : 16 octets pour le nom.</li>
<li>22 : sortie. Un joueur est sorti du vestibule, alors que vous y êtes encore vous-même. 16 octets pour le nom.</li>
<li>23 : noms. Vous jouez maintenant une (autre ?) partie avec 4 autres types. Si vous ne voulez pas, déconnectez-vous. Sinon, espérez qu'aucun de ces 4 types ne se déconnecte. Si quelqu'un se déconnecte avant vous, vous êtes déconnecté et devez refaire toute la procédure, comme en cas de refus. On vous donne votre numéro. La distribution commence. Morceau variable : 5 * 16 octets, pour les 5 noms, dans l'ordre du numéro. On vous reprécise votre numéro juste après.</li>
<li>24 : inviter. Vous demandez de faire un groupe avec 4 autres personnes. Si toutes sont dans le vestibule, une partie commence. Sinon, refusé. Morceau variable : 4 * 16 octets, les noms des gens que vous voulez inviter.</li>
</ul>
<p>Vous devez donc émettre : identifier, (inviter), prise, appeler, ecarter, requete, requete, ... dans le cas où vous prenez (prise autre que garde contre ou garde sans) en tant que client. Hors jeu, vous devez émettre rejoindre ou accueillir, et dans ce cas gérer votre table.</p>
<h1><a class="anchor" id="un"></a>
En utilisant ce qu'on a déjà</h1>
<p>L'objectif est d'utiliser la classe <a class="el" href="classClientJeu.html" title="Spécialise la classe Client, en permettant de comprendre l&#39;environnement de jeu du tarot...">ClientJeu</a>, qui fournit de l'information sous forme de signaux Qt, et qui permet d'enregistrer des ordres facilement. Vous avez droit à tous les signaux de <a class="el" href="classClientJeu.html" title="Spécialise la classe Client, en permettant de comprendre l&#39;environnement de jeu du tarot...">ClientJeu</a>, plus <a class="el" href="classClientJeu.html#a8cb9f39ebce736a517e59a16800ec79f" title="Retourne la partie en cours. ">ClientJeu::partie</a> qui vous fournit une <a class="el" href="classPartieClient.html" title="Précision d&#39;une Partie, côté client. ">PartieClient</a>, d'où vous pourrez savoir le <a class="el" href="classPartie.html#a34e5fc20f35fa22c89a3151bc8a56d55" title="À qui de jouer ? ">Partie::tour()</a>, <a class="el" href="classPartie.html#abb22c4e65f62fdcab2600376ed9ea5a6" title="Accès au joueur qui prise. ">Partie::attaquant()</a>, <a class="el" href="classPartieClient.html#ad5c597c21be297a56b8fb0bb45de2acc" title="Regarder mon jeu. ">PartieClient::mon_jeu()</a>, <a class="el" href="classPartie.html#acacf31d258dfeff531d6d4d541076cad" title="Montre le tapis de jeu. ">Partie::tapis()</a>, ...</p>
<p>En ce qui concerne les ordres à envoyer, vous pouvez utiliser <a class="el" href="classClientJeu.html#a98689343a93362c3b583a27e1ef6543f" title="Envoie un message pour formuler une Prise. ">ClientJeu::formuler_prise</a>, <a class="el" href="classClientJeu.html#a2dd409d3eee42269ebd0d62b9b1bcdfa" title="Envoie un message pour formuler un appel. ">ClientJeu::formuler_appel</a>, <a class="el" href="classClientJeu.html#af4bb9e29c5a64d7383680f6b36edccbb" title="Envoie un message pour formuler un écart. ">ClientJeu::formuler_ecart</a>, <a class="el" href="classClientJeu.html#ad47142bad1f216ac3b93d0b75cf0b559" title="Traité lorsqu&#39;on demande à jouer une Carte. ">ClientJeu::formuler_requete</a>.</p>
<p>Étape par étape :</p>
<p>Commencez par récupérer les sources, puis déplacez-vous dans client/. Faites un dossier, par exemple bete, puis déplacez-vous dedans et faites un nouveau projet Qt. Le fichier de projet doit ressembler au fichier ci-dessous : on ajoute la dépendance network, et on inclue et compile tous les fichiers de ../shared et ../../shared.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#########################################################################</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Project tarot virtuel is a card game.                                 # </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Copyright (C) 2015  Vivien Kraus                                      #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                                                       #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># This program is free software: you can redistribute it and/or modify  #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># it under the terms of the GNU General Public License as published by  #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># the Free Software Foundation, either version 3 of the License, or     #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># (at your option) any later version.                                   #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                                                       #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># This program is distributed in the hope that it will be useful,       #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># but WITHOUT ANY WARRANTY; without even the implied warranty of        #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># GNU General Public License for more details.                          #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                                                       #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># You should have received a copy of the GNU General Public License     #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;. #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#########################################################################</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">TEMPLATE = app</div>
<div class="line">TARGET = client</div>
<div class="line">CONFIG += console</div>
<div class="line">DEPENDPATH += .</div>
<div class="line">INCLUDEPATH += . ../shared ../../shared</div>
<div class="line"></div>
<div class="line">QT -= gui widgets</div>
<div class="line">QT += core</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Input</span></div>
<div class="line"><span class="preprocessor"></span>HEADERS +=                                          \#</div>
<div class="line">ia.hpp                                              \#</div>
<div class="line">../shared/client.hpp                                \#</div>
<div class="line">../shared/client_jeu.hpp                            \#</div>
<div class="line">../shared/option.hpp                                \#</div>
<div class="line">../shared/partie_client.hpp                         \#</div>
<div class="line">../shared/transaction.hpp                           \#</div>
<div class="line">../../shared/carte.hpp                              \#</div>
<div class="line">../../shared/deboguer.hpp                           \#</div>
<div class="line">../../shared/debogueur.hpp                          \#</div>
<div class="line">../../shared/enchere.hpp                            \#</div>
<div class="line">../../shared/main.hpp                               \#</div>
<div class="line">../../shared/ne_pas_deboguer.hpp                    \#</div>
<div class="line">../../shared/partie.hpp                             \#</div>
<div class="line">../../shared/protocole.hpp                          \#</div>
<div class="line">../../shared/tapis.hpp                               #</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Sources</span></div>
<div class="line"><span class="preprocessor"></span>SOURCES +=                                          \#</div>
<div class="line">main_program.cpp                                    \#</div>
<div class="line">ia.cpp                                              \#</div>
<div class="line">../shared/client.cpp                                \#</div>
<div class="line">../shared/client_jeu.cpp                            \#</div>
<div class="line">../shared/option.cpp                                \#</div>
<div class="line">../shared/partie_client.cpp                         \#</div>
<div class="line">../shared/transaction.cpp                           \#</div>
<div class="line">../../shared/carte.cpp                              \#</div>
<div class="line">../../shared/debogueur.cpp                          \#</div>
<div class="line">../../shared/enchere.cpp                            \#</div>
<div class="line">../../shared/main.cpp                               \#</div>
<div class="line">../../shared/partie.cpp                             \#</div>
<div class="line">../../shared/protocole.cpp                          \#</div>
<div class="line">../../shared/tapis.cpp                           </div>
<div class="line"></div>
<div class="line">QT += network</div>
</div><!-- fragment --><p>Maintenant, on peut travailler. Faites un fichier principal (ici, main_program.cpp), à cet endroit :</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">  Project tarot virtuel is a card game.</span></div>
<div class="line"><span class="comment">  Copyright (C) 2015  Vivien Kraus</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><span class="comment">  the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">  (at your option) any later version.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">  GNU General Public License for more details.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><span class="comment">  along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;QCoreApplication&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;QStringList&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;QHostAddress&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ia_8hpp.html">ia.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="client__jeu_8hpp.html">client_jeu.hpp</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Il y a 8 arguments :</span></div>
<div class="line"><span class="comment">//(-&gt; le nom de l&#39;exécutable)</span></div>
<div class="line"><span class="comment">// -&gt; l&#39;adresse de l&#39;hôte</span></div>
<div class="line"><span class="comment">// -&gt; le port de l&#39;hôte</span></div>
<div class="line"><span class="comment">// -&gt; le nom à utiliser</span></div>
<div class="line"><span class="comment">// -&gt; les 4 autres noms avec qui jouer</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//En cas d&#39;échec d&#39;identification, retourne -1.</span></div>
<div class="line"><span class="comment">//Ne demande jamais d&#39;inviter qui que ce soit, ne prend pas.</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> * argv[])</div>
<div class="line">{  </div>
<div class="line">  QCoreApplication app(argc, argv);</div>
<div class="line">  QStringList arguments = app.arguments();</div>
<div class="line">  <span class="keywordtype">int</span> resultat;</div>
<div class="line">  <span class="keywordflow">if</span>(arguments.size() != 8)</div>
<div class="line">    {</div>
<div class="line">      <span class="keywordflow">if</span>(arguments.size() &gt;= 1)</div>
<div class="line">        {</div>
<div class="line">          std::cout&lt;&lt;<span class="stringliteral">&quot;Usage : &quot;</span></div>
<div class="line">                   &lt;&lt;std::string(arguments[0].toUtf8().data())</div>
<div class="line">                   &lt;&lt;<span class="stringliteral">&quot; &lt;adresse_hote&gt; &lt;port_hote&gt; &lt;nom&gt; &quot;</span></div>
<div class="line">                   &lt;&lt;<span class="stringliteral">&quot;&lt;adversaire1&gt; &lt;adversaire2&gt; &quot;</span></div>
<div class="line">                   &lt;&lt;<span class="stringliteral">&quot;&lt;adversaire3&gt; &lt;adversaire4&gt;.&quot;</span></div>
<div class="line">                   &lt;&lt;std::endl;</div>
<div class="line">          std::cout&lt;&lt;<span class="stringliteral">&quot;En general, le port est 45678.&quot;</span></div>
<div class="line">                   &lt;&lt;std::endl;</div>
<div class="line">        }</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">          std::cout&lt;&lt;</div>
<div class="line">            <span class="stringliteral">&quot;Usage : &lt;programme&gt; &lt;adresse_hote&gt; &lt;port_hote&gt; &lt;nom&gt; &quot;</span></div>
<div class="line">                   &lt;&lt;<span class="stringliteral">&quot;&lt;adversaire1&gt; &lt;adversaire2&gt; &quot;</span></div>
<div class="line">                   &lt;&lt;<span class="stringliteral">&quot;&lt;adversaire3&gt; &lt;adversaire4&gt;.&quot;</span></div>
<div class="line">                   &lt;&lt;std::endl;</div>
<div class="line">          std::cout&lt;&lt;<span class="stringliteral">&quot;En general, le port est 45678.&quot;</span>&lt;&lt;std::endl;</div>
<div class="line">        }</div>
<div class="line">      resultat = 0;</div>
<div class="line">    }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">      QHostAddress hote(arguments[1]);</div>
<div class="line">      quint16 port(arguments[2].toInt());</div>
<div class="line">      QString nom(arguments[3]);</div>
<div class="line">      QVector&lt;QString&gt; equipe = </div>
<div class="line">        QVector&lt;QString&gt;()&lt;&lt;arguments[3]&lt;&lt;arguments[4]</div>
<div class="line">                          &lt;&lt;arguments[5]&lt;&lt;arguments[6]</div>
<div class="line">                          &lt;&lt;arguments[7];</div>
<div class="line">      <a class="code" href="classIa.html">Ia</a> ia(nom, equipe) ;</div>
<div class="line">      <a class="code" href="classClientJeu.html">ClientJeu</a> jeu;</div>
<div class="line"><span class="preprocessor">#define c(signal) QObject::connect(&amp;jeu, SIGNAL(signal),        \</span></div>
<div class="line"><span class="preprocessor">                                   &amp;ia, SLOT(signal))</span></div>
<div class="line"><span class="preprocessor"></span>      c(deconnecte()); <span class="comment">//Quitte le programme.</span></div>
<div class="line">      c(doit_identifier()); <span class="comment">//Donne son nom.</span></div>
<div class="line">      c(identification_refusee(std::string)); <span class="comment">//Quitte</span></div>
<div class="line">      c(adversaires(std::vector&lt;std::string&gt;)); <span class="comment">//Vérifie si ce sont bien</span></div>
<div class="line">      <span class="comment">//ceux qu&#39;on veut, se reconnecte dans le cas contraire</span></div>
<div class="line">      c(doit_priser(<a class="code" href="classOption.html">Option&lt;Enchere&gt;</a>)); <span class="comment">//Passe.</span></div>
<div class="line">      c(jeu_est(std::vector&lt;Carte&gt;)); <span class="comment">//Tient mon jeu à jour.</span></div>
<div class="line">      c(doit_jouer()); <span class="comment">//Joue la carte </span></div>
<div class="line">      c(requete_refusee(<a class="code" href="classCarte.html">Carte</a>)); <span class="comment">//Passe à la suivante.</span></div>
<div class="line"><span class="preprocessor">#define r(signal) QObject::connect(&amp;ia, SIGNAL(signal), \</span></div>
<div class="line"><span class="preprocessor">                                   &amp;jeu, SLOT(signal));</span></div>
<div class="line"><span class="preprocessor"></span>      r(formuler_identification(std::string));</div>
<div class="line">      r(formuler_prise(<a class="code" href="classEnchere.html#a1dfe2ab8eb7d4b82786201f95c453a3f">Enchere::Prise</a>)); <span class="comment">//Nécessaire</span></div>
<div class="line">      r(formuler_requete(<a class="code" href="classCarte.html">Carte</a>));</div>
<div class="line">      r(deconnecter()); <span class="comment">//Nécessaire pour refuser une invitation.</span></div>
<div class="line">      r(reconnecter());</div>
<div class="line">      QObject::connect(&amp;ia, SIGNAL(doit_quitter()),</div>
<div class="line">                       &amp;app, SLOT(quit()));</div>
<div class="line">      jeu.<a class="code" href="classClient.html#aca6f6439d8500cea98b540450450e8cd">connecter</a>(hote, port);</div>
<div class="line">      resultat = app.exec();</div>
<div class="line">    }</div>
<div class="line">  <span class="keywordflow">return</span> resultat;</div>
<div class="line">}</div>
</div><!-- fragment --><p>On voit que l'on a fait une classe externe, <a class="el" href="classIa.html" title="La classe IA de base. ">Ia</a>. Il suffit après de connecter les signaux d'information de <a class="el" href="classClientJeu.html" title="Spécialise la classe Client, en permettant de comprendre l&#39;environnement de jeu du tarot...">ClientJeu</a> aux slots de notre nouvelle classe. Ensuite, il faut appeler les slots ClientJeu::formuler_* pour interagir avec le serveur. Dans l'exemple, j'ai fait une <a class="el" href="classIa.html" title="La classe IA de base. ">Ia</a> dite "basique", plutôt étroite d'esprit : elle ne prend jamais, n'invite jamais personne, et n'accepte les invitations que de certaines personnes. Lorsque la partie est terminée, le programme termine.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">  Project tarot virtuel is a card game.</span></div>
<div class="line"><span class="comment">  Copyright (C) 2015  Vivien Kraus</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><span class="comment">  the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">  (at your option) any later version.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">  GNU General Public License for more details.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><span class="comment">  along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef IA_DEFINIE</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define IA_DEFINIE</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;QObject&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="enchere_8hpp.html">enchere.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="carte_8hpp.html">carte.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="option_8hpp.html">option.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;QVector&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;QString&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span><a class="code" href="classIa.html">Ia</a>: <span class="keyword">public</span> QObject</div>
<div class="line">{</div>
<div class="line">  Q_OBJECT</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code" href="classIa.html#a8d647cd78f1defff7ce5f56f416417b7">Ia</a>(<span class="keyword">const</span> QString &amp; nom, <span class="keyword">const</span> QVector&lt;QString&gt; &amp; equipe, </div>
<div class="line">     QObject * parent = 0);</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">bool</span> m_deconnexion_voulue;</div>
<div class="line">  <span class="keyword">const</span> QString nom_souhaite;</div>
<div class="line">  <span class="keyword">const</span> QVector&lt;QString&gt; equipe_souhaitee;</div>
<div class="line">  std::vector&lt;Carte&gt; mon_jeu;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> test_suivant;</div>
<div class="line"><span class="keyword">public</span> slots:</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a57bdb2282d73f41d4d519707e8aa43cf">deconnecte</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a353bf1c34eb9ed6e3608f734ae7b2c38">doit_identifier</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#ac19c9ac0f8dd06d38eeeadc3d937579a">identification_refusee</a>(std::string nom);</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a73583fe1e77eeccc280e896474ae2a6d">adversaires</a>(std::vector&lt;std::string&gt; adv);</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a4547b23df3f406bfc7f70a0d137ebe9d">doit_priser</a>(<a class="code" href="classOption.html">Option&lt;Enchere&gt;</a> opt);</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a935128f34e391d914b4b0669d226482f">jeu_est</a>(std::vector&lt;Carte&gt; cartes);</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a6d535af94f266482a6c75ce845e4bc22">doit_jouer</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#aa9ada6b19f2ada712dffda238d808c7e">requete_refusee</a>(<a class="code" href="classCarte.html">Carte</a> c);</div>
<div class="line">signals:</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a6bf02c2ebbc1a6833e492b986bb61561">formuler_identification</a>(std::string nom);</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#aac2222c7c083a3449c1021b58c6641f1">formuler_prise</a>(<a class="code" href="classEnchere.html#a1dfe2ab8eb7d4b82786201f95c453a3f">Enchere::Prise</a> p);</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a93828150121be65eff471393f636d2aa">formuler_requete</a>(<a class="code" href="classCarte.html">Carte</a> c);</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a890d80b9ae2da9be226017675e1489bf">deconnecter</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#a700b36d77aaf738ddc4c9b1a6ac954c2">reconnecter</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classIa.html#ae4d9fcc453ee6787baabc587fa362d8c">doit_quitter</a>();</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ia_8hpp.html">ia.hpp</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classIa.html#a8d647cd78f1defff7ce5f56f416417b7">Ia::Ia</a>(<span class="keyword">const</span> QString &amp; nom, <span class="keyword">const</span> QVector&lt;QString&gt; &amp; equipe, QObject * parent):</div>
<div class="line">  QObject(parent),</div>
<div class="line">  m_deconnexion_voulue(false),</div>
<div class="line">  nom_souhaite(nom),</div>
<div class="line">  equipe_souhaitee(equipe),</div>
<div class="line">  test_suivant(0)</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#a57bdb2282d73f41d4d519707e8aa43cf">Ia::deconnecte</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//Si j&#39;ai souhaité me déconnecter, je me reconnecte :</span></div>
<div class="line">  <span class="keywordflow">if</span>(m_deconnexion_voulue)</div>
<div class="line">    {</div>
<div class="line">      m_deconnexion_voulue = <span class="keyword">false</span>;</div>
<div class="line">      emit <a class="code" href="classIa.html#a700b36d77aaf738ddc4c9b1a6ac954c2">reconnecter</a>();</div>
<div class="line">    }</div>
<div class="line">  <span class="comment">//Sinon, j&#39;ai fini mon job (la partie a été fermée)</span></div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">      emit <a class="code" href="classIa.html#ae4d9fcc453ee6787baabc587fa362d8c">doit_quitter</a>();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#a353bf1c34eb9ed6e3608f734ae7b2c38">Ia::doit_identifier</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//Conversion en std::string</span></div>
<div class="line">  std::string nom(nom_souhaite.toUtf8().data());</div>
<div class="line">  emit <a class="code" href="classIa.html#a6bf02c2ebbc1a6833e492b986bb61561">formuler_identification</a>(nom);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#ac19c9ac0f8dd06d38eeeadc3d937579a">Ia::identification_refusee</a>(std::string)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//ERREUR : je n&#39;ai pas réussi à prendre ce nom !</span></div>
<div class="line">  emit <a class="code" href="classIa.html#ae4d9fcc453ee6787baabc587fa362d8c">doit_quitter</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#a73583fe1e77eeccc280e896474ae2a6d">Ia::adversaires</a>(std::vector&lt;std::string&gt; adversaires)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">bool</span> trouve = <span class="keyword">false</span>; <span class="comment">//A-t-on trouvé cet adversaire dans l&#39;équipe</span></div>
<div class="line">                       <span class="comment">//souhaitée ?  </span></div>
<div class="line">  <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>; <span class="comment">//A-t-on trouvé tous ceux qu&#39;on voulait ?</span></div>
<div class="line">  <span class="comment">//Parcourons la liste d&#39;adversaires...</span></div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; adversaires.size() &amp;&amp; ok ; i++)</div>
<div class="line">    {</div>
<div class="line">      trouve = <span class="keyword">false</span>;</div>
<div class="line">      <span class="comment">//Parcourons l&#39;équipe souhaitée...</span></div>
<div class="line">      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j = 0 ; j &lt; equipe_souhaitee.size() &amp;&amp; (!trouve) ; j++)</div>
<div class="line">        {</div>
<div class="line">          <span class="keywordflow">if</span>(equipe_souhaitee[j] == QString::fromUtf8(adversaires[i].c_str()))</div>
<div class="line">            {</div>
<div class="line">              <span class="comment">//Trouvé !</span></div>
<div class="line">              trouve = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">      ok = (ok &amp;&amp; trouve) ;</div>
<div class="line">    }</div>
<div class="line">  <span class="keywordflow">if</span>(!ok)</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">//Je me reconnecte</span></div>
<div class="line">      emit <a class="code" href="classIa.html#a890d80b9ae2da9be226017675e1489bf">deconnecter</a>();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#a4547b23df3f406bfc7f70a0d137ebe9d">Ia::doit_priser</a>(<a class="code" href="classOption.html">Option&lt;Enchere&gt;</a>)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//Je passse :)</span></div>
<div class="line">  emit <a class="code" href="classIa.html#aac2222c7c083a3449c1021b58c6641f1">formuler_prise</a>(<a class="code" href="classEnchere.html#a1dfe2ab8eb7d4b82786201f95c453a3faa40cabb8cd6ac3bed25b69561ebb834f">Enchere::PASSE</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#a935128f34e391d914b4b0669d226482f">Ia::jeu_est</a>(std::vector&lt;Carte&gt; cartes)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//Normalement, l&#39;ordre ne change pas.</span></div>
<div class="line">  mon_jeu = cartes;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#a6d535af94f266482a6c75ce845e4bc22">Ia::doit_jouer</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//Je joue la carte suivante...</span></div>
<div class="line">  emit <a class="code" href="classIa.html#a93828150121be65eff471393f636d2aa">formuler_requete</a>(mon_jeu[test_suivant % mon_jeu.size()]);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classIa.html#aa9ada6b19f2ada712dffda238d808c7e">Ia::requete_refusee</a>(<a class="code" href="classCarte.html">Carte</a>)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//Je teste la carte suivante</span></div>
<div class="line">  test_suivant++;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="emission"></a>
Ordre d'émission des signaux</h2>
<p>Les signaux sont émis dans un ordre "logique" dans les différentes situations.</p>
<p>Identification :</p>
<ol type="1">
<li><a class="el" href="classClientJeu.html#ad09962244d0289977119163f34c2fd08" title="Émis lorsque je dois m&#39;identifier. ">ClientJeu::doit_identifier()</a></li>
<li><a class="el" href="classClientJeu.html#ab94d9ac5546573cff03e727e03d2451f" title="Émis lorsqu&#39;un nouveau joueur est disponible. ">ClientJeu::entree()</a> éventuellement (avec multiplicité, en finissant par moi) ou <a class="el" href="classClientJeu.html#a37028031134208f450e9b94371cb381a" title="Émis lorsque mon identification a été refusée. ">ClientJeu::identification_refusee()</a> et retour à 1.</li>
<li><a class="el" href="classClientJeu.html#a5c7cd0122519f2304ae2744d4f5f7816" title="Émis lorsque mon identification a été acceptée. ">ClientJeu::identification_acceptee()</a></li>
<li><a class="el" href="classClientJeu.html#ab94d9ac5546573cff03e727e03d2451f" title="Émis lorsqu&#39;un nouveau joueur est disponible. ">ClientJeu::entree()</a>, <a class="el" href="classClientJeu.html#af09af2459d52e1f06ab9fac781b253f5" title="Émis lorsqu&#39;un joueur n&#39;est plus disponible. ">ClientJeu::sortie()</a> : d'autres gens arrivent et partent. NB : un client qui trouve une partie SORT.</li>
</ol>
<p>Constitution de la table :</p>
<ol type="1">
<li><a class="el" href="classClientJeu.html#aa2dbd6d529e11d25017059e471f6337c" title="Émis lorsque mon invitation a été acceptée. ">ClientJeu::invitation_acceptee()</a> ou <a class="el" href="classClientJeu.html#a99ed843cfd02366eeee6e23878a3a31f" title="Émis lorsque mon invitation a été refusée. ">ClientJeu::invitation_refusee()</a> si j'ai demandé une invitation. NB : le fait que l'invitation soit refusée signifie que l'une des personnes que je demande n'est pas présente, ou que je ne m'inclus pas, ou qu'il y a un doublon. La partie commence dès que l'invitation est acceptée par le SERVEUR. Si le client n'est pas d'accord, il est prié de se déconnecter et reconnecter.</li>
<li><a class="el" href="classClientJeu.html#aa25243098664858785100bbbd716b811" title="Émis lorsqu&#39;on prépare une manche. ">ClientJeu::adversaires()</a>, qui me donne les noms de mes adversaires dans l'ordre de jeu. Premier signal répété à chaque manche !</li>
<li><a class="el" href="classClientJeu.html#a2d515dffe6d8a2e92c6e6e85df9c7b7b" title="Émis lorsqu&#39;on m&#39;informe de mon numéro. ">ClientJeu::numero_change()</a></li>
</ol>
<p>Phase d'enchères :</p>
<ol type="1">
<li><a class="el" href="classClientJeu.html#af1303531d8616622f007beefa6cdea12" title="Émis lorsqu&#39;un contrat intermédiaire est formulé. ">ClientJeu::contrat_intermediaire()</a> (du joueur précédent)</li>
<li><a class="el" href="classClientJeu.html#a7e01d0a68705b2b2950347e5f2c9d23b" title="Émis lorsque je dois priser. ">ClientJeu::doit_priser()</a> (Vous devez priser à partir de ce moment)</li>
<li><a class="el" href="classClientJeu.html#a0a65871e3b0fc8d0ef6540f1104547da" title="Émis lorsque l&#39;enchère a été acceptée. ">ClientJeu::enchere_acceptee()</a> (ou <a class="el" href="classClientJeu.html#a4306c2924d8bce6ae8c99e4fe8742f48" title="Émis lorsque mon enchère a été refusée. ">ClientJeu::enchere_refusee()</a> et retour à 2.)</li>
<li><a class="el" href="classClientJeu.html#af1303531d8616622f007beefa6cdea12" title="Émis lorsqu&#39;un contrat intermédiaire est formulé. ">ClientJeu::contrat_intermediaire()</a> (le vôtre)</li>
<li><a class="el" href="classClientJeu.html#af1303531d8616622f007beefa6cdea12" title="Émis lorsqu&#39;un contrat intermédiaire est formulé. ">ClientJeu::contrat_intermediaire()</a> celui du joueur suivant.</li>
</ol>
<p>Appels :</p>
<ol type="1">
<li><a class="el" href="classClientJeu.html#af1303531d8616622f007beefa6cdea12" title="Émis lorsqu&#39;un contrat intermédiaire est formulé. ">ClientJeu::contrat_intermediaire()</a> (du joueur précédent)</li>
<li><a class="el" href="classClientJeu.html#a96011061e8d2d34362138d3d9537e2e8" title="Émis lorsque je dois appeler une carte. ">ClientJeu::doit_appeler()</a> (vous devez appeler à partir de ce moment)</li>
<li><a class="el" href="classClientJeu.html#aad8408883e77fc1a5e4d77904122f0bd" title="Émis lorsque mon appel a été accepté. ">ClientJeu::appel_accepte()</a> (ou <a class="el" href="classClientJeu.html#af83a524290e2627464c50119941cb825" title="Émis lorsque mon appel a été refusé. ">ClientJeu::appel_refuse()</a> et retour à 2.)</li>
<li><a class="el" href="classClientJeu.html#adb848b01350135b5f1d36c20fa7d4f4a" title="Émis lorsque le contrat final est divulgué. ">ClientJeu::contrat_final()</a></li>
<li><a class="el" href="classClientJeu.html#aeb16bbe6dddccfbd5aca86f51f11bfba" title="Émis lorsque le Chien est dévoilé. ">ClientJeu::chien()</a> (ou saut à la phase de jeu en cas de contrat supérieur)</li>
<li><a class="el" href="classClientJeu.html#aaf847e36c3bd801db27ddbd59692a75c" title="Émis lorsque mon jeu change. ">ClientJeu::jeu_change()</a></li>
<li><a class="el" href="classClientJeu.html#a6ac25cb205325fde18830a9d9d26c1a8" title="Émis lorsque mon jeu change. ">ClientJeu::jeu_est()</a></li>
<li><a class="el" href="classClientJeu.html#afc8c6cacec6f1f2cae6926d3f34ce411" title="Émis lorsque je dois faire un écart. ">ClientJeu::doit_ecarter()</a> (vous devez écarter à partir de ce moment)</li>
<li><a class="el" href="classClientJeu.html#a0b917133ea9e27a529b5310a869eaeb4" title="Émis lorsqu&#39;un ou plusieurs atouts est/sont écarté(s). ">ClientJeu::atout_au_chien()</a> (éventuellement)</li>
<li><a class="el" href="classClientJeu.html#a88e19ff93d59a5ee0206fc00551469a8" title="Émis lorsque l&#39;écart a été accepté. ">ClientJeu::ecart_accepte()</a> (ou <a class="el" href="classClientJeu.html#a2dcbdea6b8f53718c780fcdf23a5c837" title="Émis lorsque l&#39;écart est refusé. ">ClientJeu::ecart_refuse()</a> et retour à 7.)</li>
<li><a class="el" href="classClientJeu.html#aaf847e36c3bd801db27ddbd59692a75c" title="Émis lorsque mon jeu change. ">ClientJeu::jeu_change()</a></li>
</ol>
<p>Jeu :</p>
<ol type="1">
<li><a class="el" href="classClientJeu.html#a775bb7e768a00904c42757d50f8d50dc" title="Émis lorsqu&#39;une carte a été jouée. ">ClientJeu::carte_jouee()</a> (par le joueur précédent)</li>
<li><a class="el" href="classClientJeu.html#af704aa698ff09b2363fcab8718e951b7" title="Émis lorsque le maître du tapis change. ">ClientJeu::maitre_change()</a> (éventuellement)</li>
<li><a class="el" href="classClientJeu.html#a23522808d5cec1559d2837c39025fb7f" title="Émis lorsque le tapis est modifié. ">ClientJeu::tapis_change()</a></li>
<li><a class="el" href="classClientJeu.html#ad01d2320d60f816ec2c6d08b8a5477c4" title="Émis lorsque je dois jouer. ">ClientJeu::doit_jouer()</a> (vous devez jouer à partir de ce moment)</li>
<li><a class="el" href="classClientJeu.html#acf7d41addc91f869189be60de982540c" title="Émis lorsque la carte que je voulais jouer a été acceptée. ">ClientJeu::requete_acceptee()</a> (ou <a class="el" href="classClientJeu.html#ae3511addc7dcc78157d1e85a4ef851ea" title="Émis lorsque la carte que je voulais jouer a été refusée. ">ClientJeu::requete_refusee()</a> et retour à 4.)</li>
<li><a class="el" href="classClientJeu.html#aaf847e36c3bd801db27ddbd59692a75c" title="Émis lorsque mon jeu change. ">ClientJeu::jeu_change()</a> (vous perdez la carte jouée)</li>
<li><a class="el" href="classClientJeu.html#a6ac25cb205325fde18830a9d9d26c1a8" title="Émis lorsque mon jeu change. ">ClientJeu::jeu_est()</a></li>
<li><a class="el" href="classClientJeu.html#a775bb7e768a00904c42757d50f8d50dc" title="Émis lorsqu&#39;une carte a été jouée. ">ClientJeu::carte_jouee()</a> (par vous)</li>
<li><a class="el" href="classClientJeu.html#af704aa698ff09b2363fcab8718e951b7" title="Émis lorsque le maître du tapis change. ">ClientJeu::maitre_change()</a> (éventuellement, dans ce cas c'est vous)</li>
<li><a class="el" href="classClientJeu.html#a23522808d5cec1559d2837c39025fb7f" title="Émis lorsque le tapis est modifié. ">ClientJeu::tapis_change()</a></li>
</ol>
<p>Fin de levée :</p>
<ol type="1">
<li><a class="el" href="classClientJeu.html#a775bb7e768a00904c42757d50f8d50dc" title="Émis lorsqu&#39;une carte a été jouée. ">ClientJeu::carte_jouee()</a> (par le dernier joueur)</li>
<li><a class="el" href="classClientJeu.html#af704aa698ff09b2363fcab8718e951b7" title="Émis lorsque le maître du tapis change. ">ClientJeu::maitre_change()</a> (éventuellement)</li>
<li>5 fois (dans l'ordre des cartes jouées) <a class="el" href="classClientJeu.html#a6cdaf97470a2661b02945d74545cfe25" title="Émis lors du mouvement d&#39;une carte. ">ClientJeu::carte_gagnee()</a></li>
<li><a class="el" href="classClientJeu.html#a23522808d5cec1559d2837c39025fb7f" title="Émis lorsque le tapis est modifié. ">ClientJeu::tapis_change()</a></li>
<li><a class="el" href="classClientJeu.html#ad01d2320d60f816ec2c6d08b8a5477c4" title="Émis lorsque je dois jouer. ">ClientJeu::doit_jouer()</a> (si vous avez remporté le pli)</li>
</ol>
<p>Fin de partie : comme à la fin de la dernière levée, sans le dernier point. À la place, on a <a class="el" href="classClientJeu.html#a59b17e5a650764d292ea4abeed67a15f" title="Émis lorsque la partie est terminée. ">ClientJeu::partie_terminee()</a>. On recommence une nouvelle partie immédiatement.</p>
<h1><a class="anchor" id="conclusion"></a>
Conclusion</h1>
<p>Il y a un protocole à respecter pour communiquer avec le serveur, et pour utiliser les classes existantes, il faut se mettre au bon endroit, compiler les bons fichiers, utilier la dépendance netork, de déclarer une variable de type <a class="el" href="classClientJeu.html" title="Spécialise la classe Client, en permettant de comprendre l&#39;environnement de jeu du tarot...">ClientJeu</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré le Mardi 3 Février 2015 21:33:18 pour Tarot par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
